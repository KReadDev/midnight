<div class="downloads-container">
    <header class="page-header">
        <h1>Downloads</h1>
        <p class="page-subtitle">Manage your manga downloads</p>
    </header>

    <div class="download-tabs">
        <button class="tab-btn active" (click)="openTab('active', $event)">Active ({{ activeDownloads.length }})</button>
        <button class="tab-btn" (click)="openTab('completed', $event)">Completed ({{ completedDownloads.length }})</button>
        <button class="tab-btn" (click)="openTab('failed', $event)">Failed ({{ failedDownloads.length }})</button>
    </div>

    <div class="downloads-list openTab" id="active">
        <div *ngFor="let download of activeDownloads" class="download-item">
            <div class="download-info">
                <div class="download-icon">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z" fill="#f59e0b" stroke="#f59e0b"
                            stroke-width="2" />
                    </svg>
                </div>
                <div class="download-details">
                    <h3>{{ download.name }}</h3>
                    <p>{{ download.source }}</p>
                </div>
            </div>

            <div class="download-progress">
                <div class="progress-info">
                    <span class="progress-text">Progress</span>
                    <span class="progress-percentage">{{ download.progress }}%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" [style.width.%]="download.progress"></div>
                </div>
                <div class="download-status">
                    <span class="status-badge" [class]="download.status">{{ download.status }}</span>
                    <!-- <span *ngIf="download.speed" class="download-speed">{{ download.speed }}</span> -->
                </div>
            </div>

           
        </div>
    </div>
    <div class="downloads-list" id="completed">
        <div *ngFor="let download of completedDownloads" class="download-item">
            <div class="download-info">
                <div class="download-icon">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z" fill="#f59e0b" stroke="#f59e0b"
                            stroke-width="2" />
                    </svg>
                </div>
                <div class="download-details">
                    <h3>{{ download.name }}</h3>
                    <p>{{ download.source }}</p>
                </div>
            </div>

            <div class="download-progress">
                <!-- <div class="progress-info">
                    <span class="progress-text">Progress</span>
                    <span class="progress-percentage">{{ download.progress }}%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" [style.width.%]="download.progress"></div>
                </div> -->
                <div class="download-status">
                    <span class="status-badge" [class]="download.status">{{ download.status }}</span>
                    <!-- <span *ngIf="download.speed" class="download-speed">{{ download.speed }}</span> -->
                </div>
            </div>

           
        </div>
    </div>
    <div class="downloads-list" id="failed">
        <div *ngFor="let download of failedDownloads" class="download-item">
            <div class="download-info">
                <div class="download-icon">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z" fill="#f59e0b" stroke="#f59e0b"
                            stroke-width="2" />
                    </svg>
                </div>
                <div class="download-details">
                    <h3>{{ download.name }}</h3>
                    <p>{{ download.source }}</p>
                </div>
            </div>

            <div class="download-progress">
                <div class="progress-info">
                    <span class="progress-text">Progress</span>
                    <span class="progress-percentage">{{ download.progress }}%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" [style.width.%]="download.progress"></div>
                </div>
                <div class="download-status">
                    <span class="status-badge" [class]="download.status">{{ download.status }}</span>
                    <!-- <span *ngIf="download.speed" class="download-speed">{{ download.speed }}</span> -->
                </div>
            </div>

           
        </div>
    </div>
</div>